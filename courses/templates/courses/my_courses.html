{% extends "base.html" %}

{% block content %}

<br> <br> <br> <br> <br>

<h1>My Courses</h1>
<div class="row row-cols-1 g-4">
    {% for enrollment in enrollments %}
    <div class="col mb-4">
        <div class="card h-100">
            <div class="row g-0">
                <div class="col-md-4">
                    <img class="card-img h-100" src="{{ enrollment.course.image.url }}" alt="Course image" style="object-fit: cover;">
                </div>
                <div class="col-md-8 d-flex flex-column">
                    <div class="card-body flex-grow-1">
                        <h5 class="card-title">{{ enrollment.course.name }}</h5>
                        <p class="card-text">{{ enrollment.course.description }}</p>
                        <p class="card-text"><small class="text-muted">Enrolled on {{ enrollment.enrollment_date }}</small></p>
                        <p class="card-text">Payment Status: <span class="badge {% if enrollment.payment_status == 'Paid' %}bg-success{% elif enrollment.payment_status == 'Pending' %}bg-warning{% else %}bg-danger{% endif %}">{{ enrollment.payment_status }}</span></p>
                        <p class="card-text">Price: ${{ enrollment.course.price }}</p>
                        <p class="card-text">Status: <span class="badge {% if enrollment.status == 'Ongoing' %}bg-warning{% elif enrollment.status == 'Completed' %}bg-primary{% else %}bg-secondary{% endif %}">{{ enrollment.status }}</span></p>
                        <p class="card-text">Duration: {{ enrollment.course.duration }} Days</p>
                    </div>
                    <div class="card-footer d-flex justify-content-between align-items-center">
                        <div>
                            <p class="card-text">Instructor: {{ enrollment.course.instructor }}</p>
                            <p class="card-text">Contact: {{ enrollment.course.instructor.phone_number }}</p>
                            <p class="card-text">Email: {{ enrollment.course.instructor.email }}</p>
                        </div>
                        <img class="rounded-circle" src="{{ enrollment.course.instructor.profile_picture.url }}" alt="Instructor image" width="100" height="100">
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}