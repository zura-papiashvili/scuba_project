<!-- product_detail.html -->
{% extends "base.html" %}

{% block content %}
    <h1>{{ product.name }}</h1>
    <p>{{ product.description }}</p>
    <p><strong>${{ product.price }}</strong></p>

    {% if variations %}
        <h3>Select a Variation:</h3>
        <form method="post" action="{% url 'store:add_to_cart' product.id %}">
            {% csrf_token %}
            <select name="variation_id">
                {% for variation in variations %}
                    <option value="{{ variation.id }}">{{ variation.name }}</option>
                {% endfor %}
            </select>
            <button type="submit">Add to Cart</button>
        </form>
    {% else %}
        <form method="post" action="{% url 'store:add_to_cart' product.id %}">
            {% csrf_token %}
            <button type="submit">Add to Cart</button>
        </form>
    {% endif %}
{% endblock %}
